@model IEnumerable<TypeExerciseViewModel>
@{
    ViewBag.Title = "Choose your favorite exersice";

    int counter = 0;
    int colResult = 12 / Model.Count();
}

@if (!Model.Any(te => te.AllExercises.Count() == 0))
{
    <h1 class="text-lg-center">@ViewBag.Title</h1>
}


<div class="container-fluid">
  <div class="row">

      @foreach (var typeEx in Model)
      {
          @if (typeEx.AllExercises.Count == 0)
            {
                counter++;
                continue;
            }
            <div class="col-@colResult container-fluid">
                <h3 class="text-center m-lg-3 bg-light border">@typeEx.Name</h3>

                @foreach (var exercise in typeEx.AllExercises)
                     {
                         <Partial name = "_ExercisePartial" model="exercise"/>

                             if (this.User.Identity?.IsAuthenticated ?? false)
                             {
                                 <form class="text-center" asp-controller="Exercise" asp-action="Add" method="post" asp-route-id="@exercise.Id">
                                    <input type="submit" value="Add" class="btn btn-primary text-center">
                                    </form>
                             }
                         <hr />
                      }
            </div>
      }

      @if (counter == Model.Count())
        {
            <h4 class="text-center m-4 text-success">You already add all available exercises</h4>
        }
   </div>
</div>
